"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[582],{62582:(t,e,n)=>{n.r(e),n.d(e,{RippleInit:()=>s});var i=n(88300);class s{_init(){this._initVars(),this._initLogic()}_initVars(){this._optionsDefault=i.Xt.merge([this.constructor.optionsDefault,i.Xt.options[this.componentName]]),this._optionsInitial=this.options=i.Xt.merge([this._optionsDefault,this._optionsCustom])}_initLogic(){let t=this,e=t.options;t.ns=t.ns??i.Xt.uniqueId(),t.enable(),i.Xt._initMatches({self:t,optionsInitial:t._optionsInitial}),t.initial=!0,t.inner||(t.container.append(i.Xt.node({str:'<div class="xt-ripple-inner"></div>'})),t.inner=t.container.querySelector(":scope > .xt-ripple-inner"));let n=i.Xt.dataStorage.put(t.container,`mousedown touchstart/${t.ns}`,t._eventStart.bind(t));t.container.addEventListener("mousedown",n),t.container.addEventListener("touchstart",n,{passive:!0}),t.container.dispatchEvent(new CustomEvent(`setup.${t._componentNs}`)),i.Xt.frameDouble({el:t.container,ns:`${t.ns}Init`,func:()=>{t.container.setAttribute(`data-${t.componentName}-init`,""),t.container.dispatchEvent(new CustomEvent(`init.${t._componentNs}`)),t.initial=!1,e.debug&&console.debug(`${t.componentName} init`,t)}}),t.options.disabled&&t.disable()}_eventStart(t){let e=this.options;if(!this.disabled&&(!e.onlyInside||t.target.closest(e.onlyInside))){let n,s;this.inner.append(i.Xt.node({str:'<div class="xt-ripple"></div>'})),"mousedown"===t.type&&t.preventDefault();let o=this.container.offsetHeight,a=this.container.offsetWidth,r=(o>a?o:a)*e.sizeInitial+1,h=Math.sqrt(Math.pow(o,2)+Math.pow(a,2));void 0!==t.clientX?(n=t.clientY,s=t.clientX):t.touches&&t.touches.length&&(n=t.touches[0].clientY,s=t.touches[0].clientX);let c=t.target.getBoundingClientRect();if(n-=c.top,s-=c.left,this.container!==t.target){let t=this.container.getBoundingClientRect();n+=c.top-t.top,s+=c.left-t.left}let d=n-r/2,l=s-r/2;this.size=r,this.top=d,this.left=l,this.sizeFinal=h,this.scaleFinal=h/r*2,this.container.dispatchEvent(new CustomEvent(`on.${this._componentNs}`,{detail:t}));let p=i.Xt.dataStorage.put(window,`mouseup touchend/${this.ns}`,this._eventEnd.bind(this));addEventListener("mouseup",p),addEventListener("touchend",p,{passive:!0})}}_eventEnd(t){if(this.disabled)return;let e=i.Xt.dataStorage.get(window,`mouseup touchend/${this.ns}`);removeEventListener("mouseup",e),removeEventListener("touchend",e),this.container.dispatchEvent(new CustomEvent(`off.${this._componentNs}`,{detail:t}))}enable(){this.disabled&&(this.disabled=!1,this.container.dispatchEvent(new CustomEvent(`status.${this._componentNs}`)))}disable(){let{skipEvent:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!this.disabled&&(this.disabled=!0,t||this.container.dispatchEvent(new CustomEvent(`status.${this._componentNs}`)))}reinit(){this._initLogic()}destroy(){this.inner.remove(),this.inner=null;let t=i.Xt.dataStorage.get(this.container,`mousedown touchstart/${this.ns}`);this.container.removeEventListener("mousedown",t),this.container.removeEventListener("touchstart",t,{passive:!0});let e=i.Xt.dataStorage.get(window,`mouseup touchend/${this.ns}`);removeEventListener("mouseup",e),removeEventListener("touchend",e),this.container.removeAttribute(`data-${this.componentName}-init`),i.Xt._remove({name:this.componentName,el:this.container}),this.container.dispatchEvent(new CustomEvent(`destroy.${this._componentNs}`)),delete this}}}}]);