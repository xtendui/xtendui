"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[505],{9505:(t,e,i)=>{i.r(e),i.d(e,{StickyflowInit:()=>o});var s=i(88300);class o{_init(){this._initVars(),this._initLogic()}_initVars(){this._optionsDefault=s.Xt.merge([this.constructor.optionsDefault,s.Xt.options[this.componentName]]),this._optionsInitial=this.options=s.Xt.merge([this._optionsDefault,this._optionsCustom])}_initLogic(){let t=this,e=t.options;for(let i of(t.ns=t.ns??s.Xt.uniqueId(),t.enable(),s.Xt._initMatches({self:t,optionsInitial:t._optionsInitial}),t.initial=!0,t.element=t.container.querySelector(e.element),t.filler=t.container.querySelector(e.filler),t.scrollers=[document.scrollingElement,...document.querySelectorAll(e.scrollers)].reverse(),t.scrollers))if(i&&i.contains(t.element)){t.scroller=i;break}if(t._scrollTopOld=0,t.scroller===document.scrollingElement)addEventListener("scroll",s.Xt.dataStorage.put(window,`scroll/${t.ns}`,t._eventChange.bind(t)));else{let e=s.Xt.dataStorage.put(t.scroller,`scroll/${t.ns}`,t._eventChange.bind(t));t.scroller.addEventListener("scroll",e)}addEventListener("resize",s.Xt.dataStorage.put(window,`resize/${t.ns}`,t._eventChange.bind(t))),t._initStart(),t.container.dispatchEvent(new CustomEvent(`setup.${t._componentNs}`)),s.Xt.frameDouble({el:t.container,ns:`${t.ns}Init`,func:()=>{t.container.setAttribute(`data-${t.componentName}-init`,""),t.container.dispatchEvent(new CustomEvent(`init.${t._componentNs}`)),t.initial=!1,e.debug&&console.debug(`${t.componentName} init`,t)}}),t.options.disabled&&t.disable()}_initStart(){if(this.disabled)return;let t=getComputedStyle(this.element);this._initialTop=t.top&&"auto"!==t.top?parseFloat(t.top):0,this._initialBottom=t.bottom&&"auto"!==t.bottom?parseFloat(t.bottom):0,this._eventChange()}_eventChange(){let t=this;if(t.disabled)return;let e=t.scroller.scrollTop,i=window.innerHeight,o=t.element.offsetHeight;if(o+t._initialTop+t._initialBottom<i)t.filler.style.height="",t.element.style.top=`${t._initialTop}px`,t.element.style.bottom="auto";else if(e>t._scrollTopOld){if(!t.element.classList.contains("xt-stickyflow-top")){let e=i-o-t._initialBottom,s=Math.max(0,t.element.offsetTop-t.filler.offsetTop);t.filler.style.height=`${s}px`,t.element.style.top=`${e}px`,t.element.style.bottom="auto",t.element.classList.remove("xt-stickyflow-bottom"),t.element.classList.add("xt-stickyflow-top")}}else if(!t.element.classList.contains("xt-stickyflow-bottom")){let e=i-o-t._initialTop,s=Math.max(0,t.element.offsetTop-t.filler.offsetTop);t.filler.style.height=`${s}px`,t.element.style.top="auto",t.element.style.bottom=`${e}px`,t.element.classList.add("xt-stickyflow-bottom"),t.element.classList.remove("xt-stickyflow-top")}s.Xt.frame({el:t.container,ns:`${t.ns}Change`,func:()=>{t.container.dispatchEvent(new CustomEvent(`change.${t._componentNs}`))}}),t._scrollTopOld=e}enable(){this.disabled&&(this.disabled=!1,this.container.dispatchEvent(new CustomEvent(`status.${this._componentNs}`)))}disable(){let{skipEvent:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!this.disabled&&(this.disabled=!0,this.filler.style.height="",this.element.style.top="",this.element.style.bottom="",this.element.classList.remove("xt-stickyflow-bottom"),this.element.classList.remove("xt-stickyflow-top"),t||this.container.dispatchEvent(new CustomEvent(`status.${this._componentNs}`)))}reinit(){this._initLogic()}destroy(){if(this.scroller===document.scrollingElement)removeEventListener("scroll",s.Xt.dataStorage.get(window,`scroll/${this.ns}`));else{let t=s.Xt.dataStorage.get(this.scroller,`scroll/${this.ns}`);this.scroller.removeEventListener("scroll",t)}removeEventListener("resize",s.Xt.dataStorage.get(window,`resize/${this.ns}`)),this.container.removeAttribute(`data-${this.componentName}-init`),s.Xt._remove({name:this.componentName,el:this.container}),this.container.dispatchEvent(new CustomEvent(`destroy.${this._componentNs}`)),delete this}}}}]);