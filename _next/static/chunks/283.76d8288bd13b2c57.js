"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[283],{7283:function(t,e,i){i.r(e),i.d(e,{GroupnumberInit:function(){return n}});var s=i(77302);/*!
 * Xtend UI (https://xtendui.com/)
 * @copyright (c) 2017-2024 Riccardo Caroli
 * @license MIT (https://github.com/xtendui/xtendui/blob/master/LICENSE.txt)
 */class n{_init(){this._initVars(),this._initLogic()}_initVars(){this._optionsDefault=s.Xt.merge([this.constructor.optionsDefault,s.Xt.options[this.componentName]]),this._optionsInitial=this.options=s.Xt.merge([this._optionsDefault,this._optionsCustom])}_initLogic(){var t,e;let i=this,n=i.options;for(let t of(i.ns=i.ns??s.Xt.uniqueId(),i.enable(),s.Xt._initMatches({self:i,optionsInitial:i._optionsInitial}),i.initial=!0,i.inputs=i.container.querySelectorAll(n.inputs),i.steps=i.container.querySelectorAll(n.steps),i.inputs))s.Xt.dataStorage.set(t,`voidable/${i.ns}`,""===t.value);let o=(null===(t=n.events)||void 0===t?void 0:t.steps)?n.events.steps.split(" "):[];if(o.length)for(let t of i.steps){let e=s.Xt.dataStorage.put(t,`${n.events.steps}/${i.ns}`,i._eventChange.bind(i,{button:t}));for(let i of o)t.addEventListener(i,e)}let a=(null===(e=n.events)||void 0===e?void 0:e.input)?n.events.input.split(" "):[];if(a.length)for(let t of i.inputs){let e=s.Xt.dataStorage.put(t,`${n.events.input}/${i.ns}`,i._eventChange.bind(i,{}));for(let i of a)t.addEventListener(i,e)}i._initA11y(),i._initStart(),i.container.dispatchEvent(new CustomEvent(`setup.${i._componentNs}`)),s.Xt.frameDouble({el:i.container,ns:`${i.ns}Init`,func:()=>{i.container.setAttribute(`data-${i.componentName}-init`,""),i.container.dispatchEvent(new CustomEvent(`init.${i._componentNs}`)),i.initial=!1,n.debug&&console.debug(`${i.componentName} init`,i)}}),i.options.disabled&&i.disable()}_initStart(){this.disabled||this._eventChange.bind(this)()}_eventChange(){var t;let{button:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0,n=this.options;if(!this.disabled&&!(null==i?void 0:null===(t=i.detail)||void 0===t?void 0:t.skip)){for(let t of(i&&(i.preventDefault(),i.stopImmediatePropagation()),this.inputs)){let i=t.getAttribute("step"),s=null==e?void 0:e.getAttribute("data-xt-step"),n=i&&""!==i?parseFloat(i)*Math.sign(parseFloat(s)):parseFloat(s)??1,o=parseFloat(t.value);o=isNaN(o)?0:o,n&&(o+=n,o=parseFloat(o.toFixed(this._countDecimals({num:n})))),this._validate({val:o,input:t})}if(n.limit)for(let t of this.steps)s.Xt.dataStorage.get(t,`${this.ns}ButtonDisabled`)?t.setAttribute("disabled","disabled"):t.removeAttribute("disabled"),s.Xt.dataStorage.remove(t,`${this.ns}ButtonDisabled`)}}_validate(){let{val:t,input:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=this.options,n=e.getAttribute("step"),o=n&&""!==n?parseFloat(n):null;if(i.validate&&(t=i.validate({val:t,step:o})),i.limit){let n=s.Xt.dataStorage.get(e,`voidable/${this.ns}`),o=e.getAttribute("min"),a=e.getAttribute("max"),l=o&&""!==o?parseFloat(o):i.min,r=a&&""!==a?parseFloat(a):i.max;for(let e of this.steps){let i,o;let a=e.getAttribute("data-xt-step");n&&(0===t&&(t=""),l>=0&&(i=!0,t<l&&(t="")),r<=0&&(o=!0,t>r&&(t=""))),a<0?(t<l||!i&&t===l||i&&""===t)&&(t=""!==t?l:t,s.Xt.dataStorage.set(e,`${this.ns}ButtonDisabled`,!0)):a>0&&(t>r||!o&&t===r||o&&""===t)&&(t=""!==t?r:t,s.Xt.dataStorage.set(e,`${this.ns}ButtonDisabled`,!0))}}e.value=t,this.initial||(e.dispatchEvent(new Event("input",{detail:{skip:!0}})),e.dispatchEvent(new CustomEvent("change",{detail:{skip:!0}})))}enable(){this.disabled&&(this.disabled=!1,this.container.dispatchEvent(new CustomEvent(`status.${this._componentNs}`)))}disable(){let{skipEvent:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.disabled||(this.disabled=!0,t||this.container.dispatchEvent(new CustomEvent(`status.${this._componentNs}`)))}_initA11y(){this.options.a11y&&(this._initA11yId(),this._initA11ySetup())}_initA11yId(){if(this.options.a11y.controls)for(let t of this.inputs)t.getAttribute("id")||t.setAttribute("id",s.Xt.uniqueId())}_initA11ySetup(){if(this.options.a11y.controls){let t="";for(let e of this.inputs)t+=`${e.getAttribute("id")} `;for(let e of this.steps)e.setAttribute("aria-controls",t.trim())}}_countDecimals(){let{num:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Math.floor(t)===t?0:t.toString().split(".")[1].length||0}reinit(){this._initLogic()}destroy(){var t,e;let i=this.options,n=(null===(t=i.events)||void 0===t?void 0:t.steps)?i.events.steps.split(" "):[];if(n.length)for(let t of this.steps){let e=s.Xt.dataStorage.get(t,`${i.events.steps}/${this.ns}`);for(let i of n)t.removeEventListener(i,e)}let o=(null===(e=i.events)||void 0===e?void 0:e.input)?i.events.input.split(" "):[];if(o.length)for(let t of this.inputs){let e=s.Xt.dataStorage.get(t,`${i.events.input}/${this.ns}`);for(let i of o)t.removeEventListener(i,e)}this.container.removeAttribute(`data-${this.componentName}-init`),s.Xt._remove({name:this.componentName,el:this.container}),this.container.dispatchEvent(new CustomEvent(`destroy.${this._componentNs}`)),delete this}}}}]);